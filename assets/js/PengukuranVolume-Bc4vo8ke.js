import{b as z,h as L,r as s,j as a,m as I}from"./vendor-BjgPdEnQ.js";import{R as $}from"./react-confetti-ho-PuuYM.js";import"./game-C_1TzDD9.js";/* empty css                    */const V=()=>{const d=z(),r=L(),[c,C]=s.useState(0),[m,A]=s.useState(0),[B,b]=s.useState(!1),[g,N]=s.useState([]),[i,h]=s.useState(null),[q,x]=s.useState(null),[P,Q]=s.useState("Bab 4 Level 2 Pengukuran Volume"),p=5,[l,f]=s.useState({run:!1,recycle:!0,numberOfPieces:500,gravity:.3});s.useEffect(()=>{const t=r.pathname.split("/");let e=3,n=1;r.state&&r.state.babIndex!==void 0?(e=r.state.babIndex,n=r.state.levelIndex||1):t.length>=4&&(e=parseInt(t[t.length-2])||3,n=parseInt(t[t.length-1])||1);const o=new URLSearchParams(r.search),k=o.get("chapter"),y=o.get("level");k!==null&&y!==null&&(e=parseInt(k),n=parseInt(y)),Q(`Bab ${e+1} Level ${n+1} Pengukuran Volume`);const v=`bab${e}_level${n}`;localStorage.setItem("currentLevelKey",v);const S=localStorage.getItem("selectedAvatar");if(S){const w=`avatar_${JSON.parse(S).name}_operations`,j=JSON.parse(localStorage.getItem(w))||{};j[v]="volume_measurement",localStorage.setItem(w,JSON.stringify(j)),localStorage.setItem("currentOperation","volume_measurement")}},[r]),s.useEffect(()=>{N((()=>{const e=[{question:"Berapa volume kubus dengan panjang sisi 3 cm?",correctAnswer:"27 cm³",options:["9 cm³","18 cm³","27 cm³","36 cm³"],image:"/src/assets/pengukuran/kubus.png"},{question:"Berapa volume balok dengan panjang 4 cm, lebar 3 cm, dan tinggi 2 cm?",correctAnswer:"24 cm³",options:["18 cm³","24 cm³","30 cm³","36 cm³"],image:"/src/assets/pengukuran/balok.png"},{question:"Jika sebuah gelas berbentuk silinder dengan jari-jari 3 cm dan tinggi 10 cm, berapakah volume gelas tersebut? (π = 3)",correctAnswer:"270 cm³",options:["90 cm³","180 cm³","270 cm³","360 cm³"],image:"/src/assets/pengukuran/gelas.png"},{question:"Berapa kubus satuan yang dibutuhkan untuk membentuk balok dengan panjang 3 kubus, lebar 2 kubus, dan tinggi 4 kubus?",correctAnswer:"24 kubus",options:["14 kubus","18 kubus","24 kubus","30 kubus"],image:"/src/assets/pengukuran/kubus-satuan.png"},{question:"Sebuah akuarium berbentuk balok memiliki panjang 50 cm, lebar 30 cm, dan tinggi 40 cm. Berapa liter air yang dapat ditampung akuarium tersebut? (1 liter = 1000 cm³)",correctAnswer:"60 liter",options:["40 liter","50 liter","60 liter","70 liter"],image:"/src/assets/pengukuran/akuarium.png"}];for(let n=e.length-1;n>0;n--){const o=Math.floor(Math.random()*(n+1));[e[n],e[o]]=[e[o],e[n]]}return e})())},[]);const O=t=>{h(t);const e=t===g[c].correctAnswer;x(e),e&&i!==t?(b(!0),f({...l,run:!0,recycle:!0,numberOfPieces:500}),A(m+1),new Audio("/src/assets/ding.mp3").play().catch(o=>console.log("Audio play failed:",o)),setTimeout(()=>{f({...l,run:!1}),setTimeout(()=>{b(!1)},500)},2e3)):!e&&i!==t&&new Audio("/src/assets/fail.mp3").play().catch(o=>console.log("Audio play failed:",o))},R=()=>{c<p-1?(C(c+1),h(null),x(null)):d(`/hasil/${m}`,{state:{score:m,totalQuestions:p}})},W=()=>{d("/category4_bab4")};if(g.length===0)return a.jsx("div",{className:"loading",children:"Loading..."});const u=g[c];return a.jsxs("div",{className:"game-page volume-game",style:{background:"linear-gradient(180deg, #2196F3 0%, #64B5F6 100%)",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",position:"relative"},children:["      ",a.jsx(I.button,{className:"close-button",onClick:W,whileHover:{scale:1.1},whileTap:{scale:.9},style:{position:"absolute",top:"15px",left:"15px",width:"35px",height:"35px",borderRadius:"50%",background:"#32323e",color:"white",display:"flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer",fontSize:"18px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",zIndex:10},children:"✕"}),B&&a.jsx($,{width:window.innerWidth,height:window.innerHeight,recycle:l.recycle,run:l.run,numberOfPieces:l.numberOfPieces,gravity:l.gravity}),a.jsxs("div",{className:"question-container",style:{marginBottom:"25px",textAlign:"center"},children:[a.jsx("h1",{style:{fontSize:"1.4rem",fontWeight:"700",color:"white",marginBottom:"15px"},children:P}),a.jsxs("h2",{style:{fontSize:"1rem",fontWeight:"500",color:"white",marginBottom:"15px"},children:["Pertanyaan ",c+1," dari ",p]}),a.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"white",marginBottom:"15px",lineHeight:"1.4"},children:u.question}),"        ",u.image&&a.jsx("img",{src:u.image,alt:"Gambar soal",style:{maxWidth:"200px",maxHeight:"200px",margin:"0 auto 15px auto",display:"block",borderRadius:"8px",boxShadow:"0 3px 6px rgba(0, 0, 0, 0.2)"}})]}),a.jsx("div",{className:"options-container",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"15px",maxWidth:"550px",margin:"0 auto 25px auto"},children:u.options.map((t,e)=>a.jsx(I.button,{className:`option-button ${i===t?q?"correct":"incorrect":""}`,onClick:()=>O(t),whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"110px",height:"70px",borderRadius:"12px",background:"#3F51B5",color:"white",fontSize:"0.9rem",fontWeight:"bold",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 6px rgba(0, 0, 0, 0.2)",transition:"all 0.2s ease"},children:t},e))}),a.jsx("button",{className:"next-button",onClick:R,disabled:i===null,style:{padding:"10px 25px",fontSize:"0.9rem",backgroundColor:"#E3F2FD",color:"#2196F3",border:"none",borderRadius:"25px",cursor:i===null?"not-allowed":"pointer",opacity:i===null?.7:1,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Pertanyaan Selanjutnya"})]})};export{V as default};

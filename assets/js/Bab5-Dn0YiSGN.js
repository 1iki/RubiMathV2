import{b as w,r as o,j as e}from"./vendor-BjgPdEnQ.js";import{u as k}from"./game-DMqPqpoE.js";import{m as N}from"./guru-D7H-5Pkh.js";function q(){const u=w(),{user:d,loading:c}=k();if(o.useEffect(()=>{!c&&!d&&u("/login")},[d,c,u]),c)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-4 flex items-center justify-center",children:e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:"Loading..."})});if(!d)return null;const[a,n]=o.useState({screen:"game",score:0,questionIndex:0,totalAnswered:0,correctAnswers:0,completed:!1,feedback:"",showHint:!1}),m=async()=>{const s={kelas:4,bab:5,level:1,jenis_permainan:"Bangun Datar",skor:Math.round(a.score),skor_maksimal:100,status_selesai:a.completed,detail_jawaban:{jawaban:[{total_benar:a.correctAnswers,total_soal:i.length}]}};await N(s)};o.useEffect(()=>{(a.score>0||a.completed)&&m()},[a.score,a.completed]),o.useEffect(()=>{},[]);const i=[{question:"Soal 1: Bangun datar yang memiliki 4 sisi yang sama panjang adalah?",options:["Persegi","Persegi Panjang","Segitiga","Lingkaran"],answer:"Persegi",hint:"Bangun ini memiliki 4 sisi yang sama panjang dan 4 sudut siku-siku."},{question:"Soal 2: Bangun datar yang tidak memiliki sudut adalah?",options:["Persegi","Persegi Panjang","Segitiga","Lingkaran"],answer:"Lingkaran",hint:"Bangun ini berbentuk bulat dan tidak memiliki sudut."},{question:"Soal 3: Berapa jumlah sisi yang dimiliki segitiga?",options:["1","2","3","4"],answer:"3",hint:"Nama 'segitiga' berasal dari 'segi tiga' yang berarti memiliki tiga sisi."},{question:"Soal 4: Berapa jumlah sudut pada persegi panjang?",options:["3","4","5","6"],answer:"4",hint:"Persegi panjang memiliki 4 sisi dan setiap pertemuan sisi membentuk sudut."},{question:"Soal 5: Bangun datar yang memiliki dua pasang sisi sejajar tetapi tidak sama panjang adalah?",options:["Persegi","Segitiga","Trapesium","Jajar Genjang"],answer:"Jajar Genjang",hint:"Bangun ini memiliki dua pasang sisi sejajar dan sudut-sudut berhadapan sama besar."},{question:"Soal 6: Berapa jumlah sudut dalam segitiga?",options:["90°","180°","270°","360°"],answer:"180°",hint:"Jumlah sudut dalam segitiga selalu tetap, tidak peduli bentuk segitiganya."},{question:"Soal 7: Semua sudut pada persegi besarnya adalah?",options:["30°","60°","90°","120°"],answer:"90°",hint:"Sudut 90° disebut sudut siku-siku."},{question:"Soal 8: Berapa keliling persegi dengan sisi 5 cm?",options:["10 cm","15 cm","20 cm","25 cm"],answer:"20 cm",hint:"Keliling persegi = 4 × sisi"},{question:"Soal 9: Berapa keliling persegi panjang dengan panjang 8 cm dan lebar 4 cm?",options:["16 cm","20 cm","24 cm","32 cm"],answer:"24 cm",hint:"Keliling persegi panjang = 2 × (panjang + lebar)"},{question:"Soal 10: Berapa keliling segitiga dengan sisi 5 cm, 6 cm, dan 7 cm?",options:["12 cm","15 cm","18 cm","20 cm"],answer:"18 cm",hint:"Keliling segitiga = jumlah semua sisi"},{question:"Soal 11: Berapa luas persegi dengan sisi 6 cm?",options:["12 cm²","18 cm²","24 cm²","36 cm²"],answer:"36 cm²",hint:"Luas persegi = sisi × sisi"},{question:"Soal 12: Berapa luas persegi panjang dengan panjang 9 cm dan lebar 5 cm?",options:["14 cm²","28 cm²","45 cm²","54 cm²"],answer:"45 cm²",hint:"Luas persegi panjang = panjang × lebar"},{question:"Soal 13: Berapa luas segitiga dengan alas 8 cm dan tinggi 6 cm?",options:["14 cm²","24 cm²","48 cm²","64 cm²"],answer:"24 cm²",hint:"Luas segitiga = ½ × alas × tinggi"},{question:"Soal 14: Berapa luas lingkaran dengan jari-jari 3 cm? (π = 3.14)",options:["9.42 cm²","18.84 cm²","28.26 cm²","56.52 cm²"],answer:"28.26 cm²",hint:"Luas lingkaran = π × jari-jari × jari-jari"},{question:"Soal 15: Andi akan membuat bingkai foto berbentuk persegi panjang. Jika panjangnya 25 cm dan lebarnya 15 cm, berapa panjang kayu yang diperlukan untuk membuat bingkai?",options:["40 cm","65 cm","80 cm","100 cm"],answer:"80 cm",hint:"Kayu diperlukan untuk membuat keliling bingkai: 2 × (panjang + lebar)"}],g=s=>{const t=i[a.questionIndex];if(s===t.answer){const l=(100/i.length).toFixed(2);n({...a,score:Number((a.score+Number(l)).toFixed(2)),totalAnswered:a.totalAnswered+1,correctAnswers:a.correctAnswers+1,feedback:"Benar! 🎉",showHint:!1}),setTimeout(()=>{a.questionIndex<i.length-1?n(r=>({...r,questionIndex:r.questionIndex+1,feedback:"",showHint:!1})):n(r=>({...r,screen:"result",completed:!0}))},1e3)}else n({...a,totalAnswered:a.totalAnswered+1,feedback:"Jawaban salah! 😢",showHint:!0})},b=()=>{a.questionIndex<i.length-1?n(s=>({...s,questionIndex:s.questionIndex+1,feedback:"",showHint:!1})):n(s=>({...s,screen:"result",completed:!0}))},x=()=>{n({...a,showHint:!0})},h=()=>a.totalAnswered===0?0:Number(a.score.toFixed(2)),p=s=>s>=90?"A":s>=80?"B":s>=70?"C":s>=60?"D":"E",j=()=>{switch(a.screen){case"game":const s=i[a.questionIndex];return e.jsxs("div",{className:"flex flex-col p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 py-1 px-3 rounded-full text-sm",children:[a.questionIndex+1,"/",i.length]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-semibold",children:["Skor: ",a.score]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:s.question}),a.feedback&&e.jsx("div",{className:`p-2 rounded-md mb-2 ${a.feedback.includes("Benar")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.feedback}),a.showHint&&e.jsxs("div",{className:"p-3 bg-yellow-100 text-yellow-800 rounded-md mb-3",children:[e.jsx("span",{className:"font-bold",children:"Petunjuk:"})," ",s.hint]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:s.options.map((r,f)=>e.jsx("button",{onClick:()=>g(r),className:"py-3 px-4 bg-blue-50 text-blue-800 font-medium rounded-lg hover:bg-blue-100 transition duration-200 text-left",children:r},f))}),e.jsxs("div",{className:"flex justify-between",children:[!a.showHint&&e.jsx("button",{onClick:x,className:"py-2 px-4 bg-yellow-100 text-yellow-700 font-medium rounded-lg hover:bg-yellow-200 transition duration-200",children:"Tampilkan Petunjuk"}),a.feedback&&a.feedback.includes("salah")&&e.jsx("button",{onClick:b,className:"py-2 px-4 bg-blue-100 text-blue-700 font-medium rounded-lg hover:bg-blue-200 transition duration-200",children:"Lanjut ke Soal Berikutnya"})]})]});case"result":const t=h(),l=p(t);return e.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Selesai! 🎉"}),e.jsxs("div",{className:"mb-6 w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-lg",children:"Nilai:"}),e.jsxs("span",{className:"text-2xl font-bold",children:[t,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:e.jsx("div",{className:`h-4 rounded-full ${t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t}%`}})}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{children:"Grade:"}),e.jsx("span",{className:`text-xl font-bold py-1 px-3 rounded-full ${l==="A"?"bg-green-100 text-green-800":l==="B"?"bg-blue-100 text-blue-800":l==="C"?"bg-yellow-100 text-yellow-800":l==="D"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:l})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Skor Total"}),e.jsx("p",{className:"text-xl font-bold",children:a.score})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Jawaban Benar"}),e.jsxs("p",{className:"text-xl font-bold",children:[a.correctAnswers," / ",a.totalAnswered]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 w-full",children:[e.jsx("h2",{className:"font-bold text-lg mb-2",children:"Yang sudah kamu pelajari:"}),e.jsxs("ul",{className:"text-left",children:[e.jsx("li",{className:"mb-1",children:"• Mengenal berbagai bangun datar"}),e.jsx("li",{className:"mb-1",children:"• Sifat-sifat bangun datar"}),e.jsx("li",{className:"mb-1",children:"• Menghitung keliling bangun datar"}),e.jsx("li",{className:"mb-1",children:"• Menghitung luas bangun datar"}),e.jsx("li",{children:"• Menyelesaikan masalah sehari-hari"})]})]}),e.jsx("div",{className:"flex w-full justify-start mb-4",children:e.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition duration-200",children:"← Kembali"})}),e.jsx("button",{onClick:()=>window.location.reload(),className:"py-3 px-6 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 transition duration-300",children:"Main Lagi"})]});default:return null}};return e.jsx("div",{className:"bab5-game-container flex flex-col items-center justify-center min-h-screen bg-blue-50 p-4",children:e.jsx("div",{className:"w-full max-w-md",children:j()})})}export{q as default};

import{b as O,h as B,r as c,j as e}from"./vendor-BjgPdEnQ.js";const N=["addition","subtraction","multiplication","division"],p={addition:"penjumlahan",subtraction:"pengurangan",multiplication:"perkalian",division:"pembagian"},w=()=>{const o=O(),g=B(),[f,y]=c.useState([]),[S,v]=c.useState(0),[C,x]=c.useState(0),[b,j]=c.useState(null),[t,k]=c.useState({addition:!1,subtraction:!1,multiplication:!1,division:!1}),[M,I]=c.useState(N);c.useEffect(()=>{(()=>{const l=[];for(let n=0;n<15;n++)l.push({id:n,left:`${Math.random()*100}%`,size:`${Math.random()*60+10}px`,delay:`${Math.random()*15}s`,duration:`${Math.random()*10+10}s`});y(l)})();const i=new URLSearchParams(g.search),r=i.get("chapter"),d=i.get("level");if(r!==null&&d!==null)v(parseInt(r)),x(parseInt(d)),localStorage.setItem("currentBabIndex",r),localStorage.setItem("currentLevelIndex",d);else{const l=localStorage.getItem("currentBabIndex"),n=localStorage.getItem("currentLevelIndex");l&&n&&(v(parseInt(l)),x(parseInt(n)))}const u=localStorage.getItem("selectedAvatar");u&&j(JSON.parse(u)),$()},[g]);const $=()=>{const a=localStorage.getItem("selectedAvatar");if(!a)return;const i=JSON.parse(a);j(i);const r=`avatar_${i.name}_operations`,d=JSON.parse(localStorage.getItem(r))||{},u=localStorage.getItem("currentBabIndex"),l=localStorage.getItem("currentLevelIndex"),n=`bab${u}_level${l}`,m={addition:!1,subtraction:!1,multiplication:!1,division:!1};Object.entries(d).forEach(([L,h])=>{L===n&&(h==="addition"&&(m.addition=!0),h==="subtraction"&&(m.subtraction=!0),h==="multiplication"&&(m.multiplication=!0),h==="division"&&(m.division=!0))}),k(m),I(N)},s=(a,i)=>{i==="materi"?o(`/materi/${a}`):i==="soal"&&(a==="addition"?o("/game/penjumlahan"):a==="subtraction"?o("/game/pengurangan"):a==="multiplication"?o("/game/perkalian"):a==="division"&&o("/game/pembagian"))};return e.jsxs("div",{className:"category-container",children:[f.map(a=>e.jsx("div",{className:"bubble",style:{left:a.left,width:a.size,height:a.size,animationDelay:a.delay,animationDuration:a.duration}},a.id)),e.jsxs("div",{className:"header2",children:[e.jsxs("h1",{children:["Halo ",b?b.name:"Tamu"," ",e.jsx("span",{className:"wave",children:"ðŸ‘‹"})]}),e.jsx("p",{children:"Silahkan pilih kategori yang ingin kamu pelajari"}),e.jsxs("p",{className:"level-info",children:["Bab ",S+1," Level ",C+1]})]}),e.jsxs("div",{className:"categories-section",children:[e.jsx("h2",{children:"Kategori"}),e.jsxs("div",{className:"categories-grid",children:[e.jsxs("div",{className:"category-item",children:[e.jsxs("div",{className:`category-circle addition ${t.addition?"completed":""}`,children:[e.jsx("span",{className:"category-symbol",children:"2+2"}),t.addition&&e.jsx("div",{className:"completed-check",children:"âœ“"})]}),e.jsx("p",{className:"category-name",children:p.addition}),e.jsxs("div",{className:"category-buttons",children:[e.jsx("button",{className:"btn-materi",onClick:()=>s("addition","materi"),children:"Materi"}),e.jsx("button",{className:"btn-soal",onClick:()=>s("addition","soal"),children:"Soal"})]})]}),e.jsxs("div",{className:"category-item",children:[e.jsxs("div",{className:`category-circle substraction ${t.subtraction?"completed":""}`,children:[e.jsx("span",{className:"category-symbol",children:"2-2"}),t.subtraction&&e.jsx("div",{className:"completed-check",children:"âœ“"})]}),e.jsx("p",{className:"category-name",children:p.subtraction}),e.jsxs("div",{className:"category-buttons",children:[e.jsx("button",{className:"btn-materi",onClick:()=>s("subtraction","materi"),children:"Materi"}),e.jsx("button",{className:"btn-soal",onClick:()=>s("subtraction","soal"),children:"Soal"})]})]}),e.jsxs("div",{className:"category-item",children:[e.jsxs("div",{className:`category-circle division ${t.division?"completed":""}`,children:[e.jsx("span",{className:"category-symbol",children:"10/5"}),t.division&&e.jsx("div",{className:"completed-check",children:"âœ“"})]}),e.jsx("p",{className:"category-name",children:p.division}),e.jsxs("div",{className:"category-buttons",children:[e.jsx("button",{className:"btn-materi",onClick:()=>s("division","materi"),children:"Materi"}),e.jsx("button",{className:"btn-soal",onClick:()=>s("division","soal"),children:"Soal"})]})]}),e.jsxs("div",{className:"category-item",children:[e.jsxs("div",{className:`category-circle multiplication ${t.multiplication?"completed":""}`,children:[e.jsx("span",{className:"category-symbol",children:"2Ã—2"}),t.multiplication&&e.jsx("div",{className:"completed-check",children:"âœ“"})]}),e.jsx("p",{className:"category-name",children:p.multiplication}),e.jsxs("div",{className:"category-buttons",children:[e.jsx("button",{className:"btn-materi",onClick:()=>s("multiplication","materi"),children:"Materi"}),e.jsx("button",{className:"btn-soal",onClick:()=>s("multiplication","soal"),children:"Soal"})]})]})]})]})]})};export{w as default};

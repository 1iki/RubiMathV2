import{b as Q,h as $,r,j as t,m as w}from"./vendor-BjgPdEnQ.js";import{R as P}from"./react-confetti-ho-PuuYM.js";import"./game-DMqPqpoE.js";/* empty css                    */const H=()=>{const d=Q(),o=$(),[i,k]=r.useState(0),[u,A]=r.useState(0),[I,p]=r.useState(!1),[m,N]=r.useState([]),[c,h]=r.useState(null),[z,x]=r.useState(null),[q,C]=r.useState("Bab 4 Level 1 Pengukuran Luas"),g=5;r.useEffect(()=>{const a=o.pathname.split("/");let e=3,s=0;o.state&&o.state.babIndex!==void 0?(e=o.state.babIndex,s=o.state.levelIndex||0):a.length>=4&&(e=parseInt(a[a.length-2])||3,s=parseInt(a[a.length-1])||0);const n=new URLSearchParams(o.search),b=n.get("chapter"),f=n.get("level");b!==null&&f!==null&&(e=parseInt(b),s=parseInt(f)),C(`Bab ${e+1} Level ${s+1} Pengukuran Luas`);const S=`bab${e}_level${s}`;localStorage.setItem("currentLevelKey",S);const v=localStorage.getItem("selectedAvatar");if(v){const y=`avatar_${JSON.parse(v).name}_operations`,j=JSON.parse(localStorage.getItem(y))||{};j[S]="area_measurement",localStorage.setItem(y,JSON.stringify(j)),localStorage.setItem("currentOperation","area_measurement")}},[o]),r.useEffect(()=>{N((()=>{const e=[{question:"Berapa luas persegi dengan sisi 4 cm?",correctAnswer:"16 cm²",options:["12 cm²","16 cm²","8 cm²","20 cm²"],image:"/src/assets/pengukuran/persegi.png"},{question:"Berapa luas persegi panjang dengan panjang 5 cm dan lebar 3 cm?",correctAnswer:"15 cm²",options:["15 cm²","8 cm²","12 cm²","18 cm²"],image:"/src/assets/pengukuran/persegi-panjang.png"},{question:"Area pada gambar ini diukur dengan satuan persegi kecil. Berapa luas area tersebut?",correctAnswer:"9 satuan",options:["9 satuan","7 satuan","8 satuan","10 satuan"],image:"/src/assets/pengukuran/area-kotak.png"},{question:"Berapa luas segitiga dengan alas 6 cm dan tinggi 4 cm?",correctAnswer:"12 cm²",options:["10 cm²","12 cm²","14 cm²","24 cm²"],image:"/src/assets/pengukuran/segitiga.png"},{question:"Jika 1 ubin memiliki luas 1 m², berapa ubin yang dibutuhkan untuk menutupi lantai dengan panjang 3 m dan lebar 4 m?",correctAnswer:"12 ubin",options:["7 ubin","10 ubin","12 ubin","14 ubin"],image:"/src/assets/pengukuran/lantai.png"}];for(let s=e.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[e[s],e[n]]=[e[n],e[s]]}return e})())},[]);const L=a=>{h(a);const e=a===m[i].correctAnswer;x(e),e&&c!==a?(p(!0),A(u+1),new Audio("/src/assets/ding.mp3").play().catch(n=>console.log("Audio play failed:",n))):!e&&c!==a&&new Audio("/src/assets/fail.mp3").play().catch(n=>console.log("Audio play failed:",n)),setTimeout(()=>{p(!1)},2e3)},B=()=>{h(null),x(null),i<g-1?k(i+1):d(`/hasil/${u}`,{state:{score:u,totalQuestions:g}})};if(m.length===0)return t.jsx("div",{className:"loading",children:"Loading..."});const l=m[i];return t.jsxs("div",{className:"game-container",style:{backgroundColor:"#4CAF50"},children:[I&&t.jsx(P,{recycle:!1}),t.jsx("div",{className:"close-button",children:t.jsx("button",{onClick:()=>d("/category4_bab4"),style:{width:"35px",height:"35px",fontSize:"18px",borderRadius:"50%",background:"#32323e",color:"white",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:"×"})}),t.jsxs("div",{className:"question-section",children:[t.jsx("h1",{className:"game-title",style:{color:"white",fontSize:"1.3rem",marginBottom:"10px"},children:q}),t.jsxs("h2",{className:"question-count",style:{fontSize:"1rem"},children:["Pertanyaan ",i+1," dari ",g]}),t.jsxs("div",{className:"question-text",children:[t.jsx("h2",{style:{fontSize:"1.1rem",lineHeight:"1.4"},children:l.question}),l.image&&t.jsx("img",{src:l.image,alt:"Gambar soal",style:{maxWidth:"280px",maxHeight:"280px",margin:"15px 0"}})]}),t.jsx("div",{className:"answer-options",children:l.options.map((a,e)=>t.jsx(w.button,{className:`answer-button ${c===a?a===l.correctAnswer?"correct":"incorrect":""}`,onClick:()=>L(a),whileHover:{scale:1.1},whileTap:{scale:.9},style:{fontSize:"0.9rem",padding:"8px 12px"},children:a},e))}),t.jsx("div",{className:"next-btn-container",children:t.jsx(w.button,{className:`next-button ${c===null?"disabled":""}`,onClick:B,disabled:c===null,style:{fontSize:"0.9rem",padding:"10px 20px"},children:"Pertanyaan Selanjutnya"})})]})]})};export{H as default};

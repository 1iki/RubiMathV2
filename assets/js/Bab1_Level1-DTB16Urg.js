import{r as s,b as _e,j as e}from"./vendor-BjgPdEnQ.js";/* empty css               */import{u as Be}from"./game-DMqPqpoE.js";import{j as Re,m as Pe}from"./guru-D7H-5Pkh.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,c,d)=>d?d.toUpperCase():c.toLowerCase()),ue=i=>{const n=Ee(i);return n.charAt(0).toUpperCase()+n.slice(1)},ge=(...i)=>i.filter((n,c,d)=>!!n&&n.trim()!==""&&d.indexOf(n)===c).join(" ").trim(),Le=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=s.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:l,iconNode:x,...$},M)=>s.createElement("svg",{ref:M,...qe,width:n,height:n,stroke:i,strokeWidth:d?Number(c)*24/Number(n):c,className:ge("lucide",m),...!l&&!Le($)&&{"aria-hidden":"true"},...$},[...x.map(([p,g])=>s.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(i,n)=>{const c=s.forwardRef(({className:d,...m},l)=>s.createElement(We,{ref:l,iconNode:n,className:ge(`lucide-${Ie(ue(i))}`,`lucide-${i}`,d),...m}));return c.displayName=ue(i),c};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ge=Oe("house",De);function Ue(){const i=_e(),{user:n,loading:c}=Be(),[d,m]=s.useState(0),[l,x]=s.useState("read"),[$,M]=s.useState(0),[p,g]=s.useState({read:0,write:0,compare:0,order:0}),[he,H]=s.useState(!1),[fe,z]=s.useState(!1),[xe,Y]=s.useState(!1),[pe,F]=s.useState(!1),[u,L]=s.useState(!1);if(s.useEffect(()=>{!c&&n&&(async()=>{var r,P,A,I,E;const a=await Re(4,1,1);if(a&&(m(a.skor||0),L(a.status_selesai||!1),(r=a.detail_jawaban)!=null&&r.jawaban)){const k=a.detail_jawaban.jawaban;g({read:((P=k.find(f=>f.bagian==="read"))==null?void 0:P.total_benar)||0,write:((A=k.find(f=>f.bagian==="write"))==null?void 0:A.total_benar)||0,compare:((I=k.find(f=>f.bagian==="compare"))==null?void 0:I.total_benar)||0,order:((E=k.find(f=>f.bagian==="order"))==null?void 0:E.total_benar)||0})}})()},[c,n]),s.useEffect(()=>{!c&&!n&&i("/login")},[n,c,i]),c)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-4 flex items-center justify-center",children:e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:"Loading..."})});if(!n)return null;const[b,V]=s.useState(0),[w,X]=s.useState(0),[j,ee]=s.useState(0),[N,ae]=s.useState(0),[se,te]=s.useState(!1),[re,ne]=s.useState(!1),[le,oe]=s.useState(!1),[ie,ce]=s.useState(!1),[q,W]=s.useState([]),[h,O]=s.useState([]),o={read:[{number:"6.786",options:["Enam ribu tujuh ratus delapan puluh enam","Enam ribu tujuh ratus delapan enam","Enam ribu tujuh delapan puluh enam"],answer:0},{number:"9.302",options:["Sembilan ribu tiga ratus dua","Sembilan ribu tiga puluh dua","Sembilan ratus tiga puluh dua"],answer:0}],write:[{words:"Delapan ribu empat ratus lima puluh",answer:"8450"},{words:"Dua ribu tiga ratus tujuh belas",answer:"2317"}],compare:[{num1:"1.234",num2:"1.235",answer:"right"},{num1:"5.678",num2:"5.678",answer:"equal"},{num1:"9.999",num2:"1.000",answer:"left"}],order:[{numbers:["2.345","1.999","2.450","2.100"],answer:["1.999","2.100","2.345","2.450"]},{numbers:["5.555","5.055","5.505","5.550"],answer:["5.055","5.505","5.550","5.555"]},{numbers:["3.001","3.010","3.100","3.000"],answer:["3.000","3.001","3.010","3.100"]}]},[D,v]=s.useState({message:"",isCorrect:null}),[G,y]=s.useState({message:"",isCorrect:null}),[J,S]=s.useState({message:"",isCorrect:null}),[K,C]=s.useState({message:"",isCorrect:null}),[T,Q]=s.useState(""),[be,de]=s.useState(!1),[we,me]=s.useState(!1),_=()=>{v({message:"",isCorrect:null}),y({message:"",isCorrect:null}),S({message:"",isCorrect:null}),C({message:"",isCorrect:null}),M($+1),l==="read"?(x("write"),H(!0)):l==="write"?(x("compare"),z(!0)):l==="compare"?(x("order"),Y(!0)):l==="order"&&(F(!0),L(!0))},je=()=>{x("read"),M(0),H(!1),z(!1),Y(!1),F(!1),L(!1),V(0),X(0),ee(0),ae(0),m(0)},Ne=t=>{if(se)return;const a=o.read[b];t===a.answer?(v({message:"Benar! 🎉",isCorrect:!0}),m(r=>r+10),g(r=>({...r,read:r.read+1})),B(),R(),Z()):(v({message:"Salah! Coba lagi ya!",isCorrect:!1}),Z()),te(!0)},ye=()=>{if(!se){v({message:"Anda harus menjawab pertanyaan terlebih dahulu!",isCorrect:!1});return}b<o.read.length-1?(V(b+1),v({message:"",isCorrect:null}),te(!1)):_()},Ce=()=>{if(re)return;if(!T.trim()){y({message:"Harap masukkan jawaban terlebih dahulu!",isCorrect:!1});return}const t=o.write[w];T===t.answer?(y({message:"Benar! 🎉",isCorrect:!0}),m(a=>a+10),g(a=>({...a,write:a.write+1})),B(),R()):y({message:`Salah! Jawaban yang benar: ${t.answer}`,isCorrect:!1}),ne(!0)},ke=()=>{if(!re){y({message:"Anda harus menjawab pertanyaan terlebih dahulu!",isCorrect:!1});return}w<o.write.length-1?(X(w+1),Q(""),y({message:"",isCorrect:null}),ne(!1)):_()},U=t=>{if(le)return;const a=o.compare[j];if(t===a.answer)S({message:"Benar! 🎉",isCorrect:!0}),m(r=>r+10),g(r=>({...r,compare:r.compare+1})),B(),R();else{let r="";a.answer==="left"?r=`${a.num1} lebih besar dari ${a.num2}`:a.answer==="right"?r=`${a.num2} lebih besar dari ${a.num1}`:r="Kedua bilangan sama besar",S({message:`Salah! ${r}`,isCorrect:!1})}oe(!0)},ve=()=>{if(!le){S({message:"Anda harus menjawab pertanyaan terlebih dahulu!",isCorrect:!1});return}j<o.compare.length-1?(ee(j+1),S({message:"",isCorrect:null}),oe(!1)):_()};s.useEffect(()=>{if(l==="order"){const a=[...o.order[N].numbers].sort(()=>Math.random()-.5);W(a),O([])}},[l,N]);const Se=t=>{W(q.filter(a=>a!==t)),O([...h,t])},Ae=t=>{O(h.filter(a=>a!==t)),W([...q,t])},$e=()=>{if(ie)return;const t=o.order[N];if(h.length!==t.numbers.length){C({message:"Masukkan semua bilangan ke kotak!",isCorrect:!1});return}let a=!0;for(let r=0;r<h.length;r++)if(h[r]!==t.answer[r]){a=!1;break}a?(C({message:"Benar! 🎉",isCorrect:!0}),m(r=>r+10),g(r=>({...r,order:r.order+1})),B(),R()):C({message:`Salah! Urutan yang benar: ${t.answer.join(" → ")}`,isCorrect:!1}),ce(!0)},Me=()=>{if(!ie){C({message:"Anda harus menjawab pertanyaan terlebih dahulu!",isCorrect:!1});return}N<o.order.length-1?(ae(N+1),C({message:"",isCorrect:null}),ce(!1)):_()},B=()=>{de(!0),setTimeout(()=>{de(!1)},500)},R=()=>{me(!0),setTimeout(()=>{me(!1)},1500)};s.useEffect(()=>{l==="write"&&Q("")},[l,w]);const Z=async()=>{const t={kelas:4,bab:1,level:1,jenis_permainan:"Petualangan Bilangan Cacah",skor:d,skor_maksimal:100,status_selesai:u,detail_jawaban:{jawaban:[{bagian:"read",total_benar:p.read,total_soal:o.read.length},{bagian:"write",total_benar:p.write,total_soal:o.write.length},{bagian:"compare",total_benar:p.compare,total_soal:o.compare.length},{bagian:"order",total_benar:p.order,total_soal:o.order.length}]}};await Pe(t)};return s.useEffect(()=>{(d>0||u)&&Z()},[d,u]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-4",children:[e.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-6 md:p-8 rounded-2xl shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-pink-500",children:"Petualangan Bilangan Cacah"}),e.jsx("div",{className:"text-3xl",children:"🔢"})]}),e.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"Ayo belajar bilangan dengan cara menyenangkan!"}),e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-gray-100 rounded-full p-2",children:[e.jsxs("div",{className:`px-4 py-2 rounded-full text-center transition-all ${l==="read"||he?"bg-pink-400 text-white":"bg-gray-200"}`,children:[e.jsx("i",{className:"fas fa-book-open mr-2"})," Membaca"]}),e.jsxs("div",{className:`px-4 py-2 rounded-full text-center transition-all ${l==="write"||fe?"bg-pink-400 text-white":"bg-gray-200"}`,children:[e.jsx("i",{className:"fas fa-pencil-alt mr-2"})," Menulis"]}),e.jsxs("div",{className:`px-4 py-2 rounded-full text-center transition-all ${l==="compare"||xe?"bg-pink-400 text-white":"bg-gray-200"}`,children:[e.jsx("i",{className:"fas fa-balance-scale mr-2"})," Membanding"]}),e.jsxs("div",{className:`px-4 py-2 rounded-full text-center transition-all ${l==="order"||pe?"bg-pink-400 text-white":"bg-gray-200"}`,children:[e.jsx("i",{className:"fas fa-sort-amount-up mr-2"})," Urut"]})]}),u&&e.jsxs("div",{className:"game-section animate-fadeIn text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[e.jsx("i",{className:"fas fa-trophy text-yellow-300"})," Selamat!"]}),e.jsx("p",{className:"text-xl mb-4",children:"Kamu telah menyelesaikan semua permainan!"}),e.jsx("div",{className:"mb-6 py-4 px-6 bg-green-100 rounded-lg shadow inline-block",children:e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["Skor Akhir: ",d]})}),e.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-pink-400 text-white px-6 py-3 rounded-full shadow-md hover:translate-y-1 transform transition-all font-bold",onClick:je,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-redo"})," Main Lagi"]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-5 py-2 rounded-full shadow hover:shadow-md transition-all",onClick:()=>window.location.href="/category4_bab1",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ge,{size:18})," Kembali ke Kategori"]})})})]}),!u&&l==="read"&&e.jsxs("div",{className:"game-section animate-fadeIn",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[e.jsx("i",{className:"fas fa-book-open"})," Membaca Bilangan"]}),e.jsx("div",{className:"text-3xl font-bold my-5 p-5 bg-gray-50 rounded-xl inline-block shadow",children:o.read[b].number}),e.jsx("p",{className:"mb-4",children:"Bagaimana cara membaca bilangan di atas?"}),e.jsx("div",{className:"flex flex-col gap-2 mb-4",children:o.read[b].options.map((t,a)=>e.jsx("button",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-5 py-3 rounded-lg shadow hover:shadow-lg transition-all my-1",onClick:()=>Ne(a),children:t},a))}),D.message&&e.jsx("div",{className:`p-4 rounded-lg shadow my-4 ${D.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D.message}),e.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-pink-400 text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-all font-bold",onClick:ye,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-arrow-right"})," ",b<o.read.length-1?"Soal Selanjutnya":"Lanjut ke Menulis Bilangan"]})})]}),!u&&l==="write"&&e.jsxs("div",{className:"game-section animate-fadeIn",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[e.jsx("i",{className:"fas fa-pencil-alt"})," Menulis Bilangan"]}),e.jsx("div",{className:"text-3xl font-bold my-5 p-5 bg-gray-50 rounded-xl inline-block shadow",children:o.write[w].words}),e.jsx("p",{className:"mb-4",children:"Tuliskan bilangan di atas dalam angka:"}),e.jsx("input",{type:"text",value:T,onChange:t=>Q(t.target.value),className:"p-2 text-xl w-64 border-4 border-gray-300 rounded-lg text-center mb-4",placeholder:"Contoh: 1234"}),e.jsx("div",{children:e.jsx("button",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-all font-bold",onClick:Ce,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-check"})," Periksa Jawaban"]})})}),G.message&&e.jsx("div",{className:`p-4 rounded-lg shadow my-4 ${G.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G.message}),e.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-pink-400 text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-all font-bold mt-4",onClick:ke,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-arrow-right"})," ",w<o.write.length-1?"Soal Selanjutnya":"Lanjut ke Membandingkan Bilangan"]})})]}),!u&&l==="compare"&&e.jsxs("div",{className:"game-section animate-fadeIn",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[e.jsx("i",{className:"fas fa-balance-scale"})," Membandingkan Bilangan"]}),e.jsxs("div",{className:"text-2xl my-5 flex justify-center items-center gap-5",children:[e.jsx("span",{className:"bg-pink-400 p-4 rounded-lg shadow text-white font-bold",children:o.compare[j].num1}),e.jsx("span",{className:"font-bold",children:"vs"}),e.jsx("span",{className:"bg-teal-400 p-4 rounded-lg shadow text-white font-bold",children:o.compare[j].num2})]}),e.jsx("p",{className:"mb-4",children:"Manakah yang lebih besar?"}),e.jsxs("div",{className:"flex justify-center gap-3 my-5",children:[e.jsx("button",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-5 py-3 rounded-lg shadow hover:shadow-lg transition-all",onClick:()=>U("left"),children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-angle-double-left"})," Pertama"]})}),e.jsx("button",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-5 py-3 rounded-lg shadow hover:shadow-lg transition-all",onClick:()=>U("equal"),children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-equals"})," Sama"]})}),e.jsx("button",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-5 py-3 rounded-lg shadow hover:shadow-lg transition-all",onClick:()=>U("right"),children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Kedua ",e.jsx("i",{className:"fas fa-angle-double-right"})]})})]}),J.message&&e.jsx("div",{className:`p-4 rounded-lg shadow my-4 ${J.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:J.message}),e.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-pink-400 text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-all font-bold",onClick:ve,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-arrow-right"})," ",j<o.compare.length-1?"Soal Selanjutnya":"Lanjut ke Mengurutkan Bilangan"]})})]}),!u&&l==="order"&&e.jsxs("div",{className:"game-section animate-fadeIn",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[e.jsx("i",{className:"fas fa-sort-amount-up"})," Mengurutkan Bilangan"]}),e.jsx("p",{className:"mb-4",children:"Susunlah bilangan berikut dari yang terkecil ke terbesar:"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:q.map((t,a)=>e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-400 text-white px-6 py-3 rounded-lg shadow hover:scale-105 cursor-pointer transition-all",onClick:()=>Se(t),children:t},a))}),e.jsx("div",{className:"min-h-40 border-3 border-dashed border-teal-400 rounded-lg p-5 mb-4 bg-teal-50 flex flex-wrap gap-2 items-center justify-center",children:h.length===0?e.jsx("p",{className:"text-teal-600",children:"Pilih bilangan di atas untuk mengurutkan"}):h.map((t,a)=>e.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-6 py-3 rounded-lg shadow hover:scale-105 cursor-pointer transition-all",onClick:()=>Ae(t),children:t},a))}),e.jsx("button",{className:"bg-gradient-to-r from-teal-500 to-teal-400 text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-all font-bold",onClick:$e,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-check"})," Periksa Jawaban"]})}),K.message&&e.jsx("div",{className:`p-4 rounded-lg shadow my-4 ${K.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:K.message}),e.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-pink-400 text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-all font-bold mt-4",onClick:Me,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-arrow-right"})," ",N<o.order.length-1?"Soal Selanjutnya":"Selesai"]})})]}),e.jsxs("div",{className:"my-5 font-bold text-xl inline-block px-5 py-2 bg-yellow-300 rounded-full text-gray-800 shadow",children:["⭐ Skor: ",d]}),e.jsx("img",{src:"/api/placeholder/100/120",alt:"Character",className:`absolute w-24 bottom-5 right-5 transition-all duration-500 ${be?"transform -translate-y-12":""}`}),we&&e.jsx("div",{className:"confetti-container",children:[...Array(50)].map((t,a)=>{const r=Math.random()*100,P=Math.random()*100,A=Math.random()*10+5,I=`hsl(${Math.random()*360}, 100%, 50%)`,E=`translate(${Math.random()*200-100}px, ${Math.random()*200}px) rotate(${Math.random()*360}deg)`,k=Math.random()*1+.5;return e.jsx("div",{className:"absolute w-3 h-3 opacity-100 transition-all",style:{left:`${r}%`,top:`${P}%`,width:`${A}px`,height:`${A}px`,backgroundColor:I,transform:E,transition:`all ${k}s ease-out`}},a)})})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease;
        }
      `})]})}export{Ue as default};

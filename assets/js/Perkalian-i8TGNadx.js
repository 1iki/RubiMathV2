import{b as T,h as q,r as n,j as o,m as P}from"./vendor-BjgPdEnQ.js";import{R as D}from"./react-confetti-ho-PuuYM.js";import"./game-DMqPqpoE.js";/* empty css                    */const U=()=>{const f=T(),r=q(),[h,k]=n.useState(1),[x]=n.useState(5),[u,g]=n.useState(0),[a,N]=n.useState({num1:0,num2:0}),[c,b]=n.useState(null),[O,B]=n.useState([]),[z,y]=n.useState(null),[m,F]=n.useState(null),[L,S]=n.useState(!1),[M,R]=n.useState("Bab 2 Level 1 Perkalian"),[l,w]=n.useState({run:!1,recycle:!0,numberOfPieces:500,gravity:.3});n.useEffect(()=>{const e=r.pathname.split("/");let t=0,s=0;r.state&&r.state.babIndex!==void 0?(t=r.state.babIndex,s=r.state.levelIndex||0):e.length>=4&&(t=parseInt(e[e.length-2])||0,s=parseInt(e[e.length-1])||0);const d=new URLSearchParams(r.search),p=d.get("chapter"),i=d.get("level");p!==null&&i!==null&&(t=parseInt(p),s=parseInt(i)),R(`Bab ${t+1} Level ${s+1} Perkalian`);const C=`bab${t}_level${s}`;localStorage.setItem("currentLevelKey",C);const I=localStorage.getItem("selectedAvatar");if(I){const j=`avatar_${JSON.parse(I).name}_operations`,A=JSON.parse(localStorage.getItem(j))||{};A[C]="multiplication",localStorage.setItem(j,JSON.stringify(A)),localStorage.setItem("currentOperation","multiplication")}},[r]),n.useEffect(()=>{v()},[]);const v=()=>{const e=Math.floor(Math.random()*10)+1,t=Math.floor(Math.random()*10)+1;N({num1:e,num2:t});const s=e*t,d=Array.from({length:3},()=>{let i;do i=Math.floor(Math.random()*100)+1;while(i===s);return i}),p=[s,...d].sort(()=>Math.random()-.5);B(p)},W=e=>{b(e),F(c);const t=e===a.num1*a.num2;y(t),t?(S(!0),w({...l,run:!0,recycle:!0,numberOfPieces:500}),setTimeout(()=>{w({...l,run:!1}),setTimeout(()=>{S(!1)},500)},4e3),(!m||m!==a.num1*a.num2)&&g(u+1)):m&&m===a.num1*a.num2&&g(u-1)},$=()=>{h<x?(k(h+1),v(),b(null),y(null)):f(`/hasil/${u}`,{state:{score:u,totalQuestions:x}})},E=()=>{f("/category")};return o.jsxs("div",{className:"game-page multiplication-game",style:{background:"linear-gradient(180deg, #5BCEFA 0%, #FF9DD3 100%)",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",position:"relative"},children:[o.jsx(P.button,{className:"close-button",onClick:E,whileHover:{scale:1.1},whileTap:{scale:.9},style:{position:"absolute",top:"20px",left:"20px",width:"40px",height:"40px",borderRadius:"50%",background:"#32323e",color:"white",display:"flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer",fontSize:"20px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.3)",zIndex:10},children:"âœ•"}),L&&o.jsx(D,{width:window.innerWidth,height:window.innerHeight,recycle:l.recycle,run:l.run,numberOfPieces:l.numberOfPieces,gravity:l.gravity}),o.jsxs("div",{className:"question-container",style:{marginBottom:"40px",textAlign:"center"},children:[o.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"700",color:"white",marginBottom:"20px"},children:M}),o.jsxs("h2",{style:{fontSize:"1.2rem",fontWeight:"500",color:"white",marginBottom:"20px"},children:["Pertanyaan ",h," dari ",x]}),o.jsxs("div",{style:{fontSize:"4rem",fontWeight:"bold",color:"white"},children:[a.num1,"X",a.num2,"=?"]})]}),o.jsx("div",{className:"options-container",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px",maxWidth:"600px",margin:"0 auto 30px auto"},children:O.map((e,t)=>o.jsx(P.button,{className:`option-button ${c===e?z?"correct":"incorrect":""}`,onClick:()=>W(e),whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100px",height:"100px",borderRadius:"50%",background:"#FF4FA7",color:"white",fontSize:"2rem",fontWeight:"bold",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",transition:"all 0.2s ease"},children:e},t))}),o.jsx("button",{className:"next-button",onClick:$,disabled:c===null,style:{padding:"12px 30px",fontSize:"1.2rem",backgroundColor:"#F3CAE6",color:"#666",border:"none",borderRadius:"30px",cursor:c===null?"not-allowed":"pointer",opacity:c===null?.7:1,boxShadow:"0 3px 5px rgba(0, 0, 0, 0.1)"},children:"Pertanyaan Selanjutnya"})]})};export{U as default};

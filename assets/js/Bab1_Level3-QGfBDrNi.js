import{b as L,r as n,j as e}from"./vendor-BjgPdEnQ.js";import{u as U}from"./game-C_1TzDD9.js";import{m as Q}from"./guru-BwvXGu2s.js";/* empty css               */const y=[{q:"125 × 4 = ?",a:500},{q:"900 ÷ 3 = ?",a:300},{q:"56 × 7 = ?",a:392},{q:"864 ÷ 12 = ?",a:72},{q:"35 × 25 = ?",a:875},{q:"720 ÷ 8 = ?",a:90},{q:"44 × 23 = ?",a:1012},{q:"945 ÷ 9 = ?",a:105},{q:"18 × 56 = ?",a:1008},{q:"680 ÷ 4 = ?",a:170}];function C(a){const o=[...a];for(let s=o.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1));[o[s],o[r]]=[o[r],o[s]]}return o}function V(a){const o=new Set;for(o.add(a);o.size<4;){const s=Math.floor(Math.random()*60)+1,r=Math.random()>.5?1:-1,l=a+r*s;l>0&&o.add(l)}return C(Array.from(o))}const X=({active:a})=>{const o=Array.from({length:50},(r,l)=>l),s=r=>{const l=Math.random()*100,m=Math.random()*8+6,u=(Math.random()*2).toFixed(1),g=Math.random()*360,f=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff"],c=f[Math.floor(Math.random()*f.length)],h=`${Math.random()*2+2}s`;return{width:`${m}px`,height:`${m}px`,backgroundColor:c,left:`${l}%`,transform:`rotate(${g}deg)`,animationDelay:`${u}s`,position:"absolute",top:"-10px",opacity:a?1:0,zIndex:5,borderRadius:"50%",animation:a?`confetti-fall ${h} linear forwards`:"none"}};return e.jsxs("div",{className:"confetti-container",children:[o.map(r=>e.jsx("div",{className:"confetti-piece",style:s()},r)),e.jsx("style",{jsx:"true",children:`
        @keyframes confetti-fall {
          0% {
            top: -10px;
            opacity: 1;
          }
          100% {
            top: 100vh;
            opacity: 0;
          }
        }
      `})]})};function oe(){const a=L(),[o,s]=n.useState(0),[r,l]=n.useState(0),[m,u]=n.useState(null),[g,f]=n.useState(""),[c,h]=n.useState(!1),[S,j]=n.useState(!1),[v,w]=n.useState(!1),[B,k]=n.useState(!1),[x]=n.useState(()=>C([...y])),{user:p}=U();n.useEffect(()=>{p||a("/login")},[p,a]);const M=async()=>{if(!p)return;const t={kelas:4,bab:1,level:3,jenis_permainan:"Game Perkalian dan Pembagian",skor:r,skor_maksimal:y.length*10,status_selesai:c,detail_jawaban:{jawaban:[{total_benar:r/10,total_soal:y.length}]}};await Q(t)};n.useEffect(()=>{(r>0||c)&&M()},[r,c]);const i=x[o],A=n.useMemo(()=>V((i==null?void 0:i.a)||0),[i]);function z(t){S||(u(t),j(!0),w(!0),t===i.a?(l(d=>d+10),f("Benar! 🎉 +10 poin"),k(!0),setTimeout(()=>k(!1),2e3)):f(`Salah! Jawaban yang benar: ${i.a}`),setTimeout(()=>{f(""),w(!1),u(null),j(!1),o+1<x.length?s(d=>d+1):h(!0)},1800))}function T(){window.location.reload()}function q(){a("/category4_bab1")}const F=()=>r===100?"Sempurna! 🏆":r>=80?"Hebat! 🎉":r>=60?"Bagus! 👍":r>=40?"Cukup baik. 😊":"Ayo berlatih lagi! 💪",W={minHeight:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"#e6f2ff"},P={width:"90%",maxWidth:"650px",margin:"0 auto",padding:"2rem",backgroundColor:"white",borderRadius:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},R={fontSize:"2.5rem",color:"#F06292",textAlign:"center",marginBottom:"1rem",fontWeight:"bold"},$={fontSize:"1.5rem",color:"#666",textAlign:"center",marginBottom:"2rem"},I={display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"1.5rem"},_={backgroundColor:"#f0fff0",padding:"2rem",borderRadius:"15px",marginBottom:"2rem",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"150px"},D={fontSize:"2.8rem",fontWeight:"bold",textAlign:"center"},G={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem",marginBottom:"2rem"},O={padding:"1.5rem",fontSize:"2rem",fontWeight:"bold",border:"2px solid #ddd",borderRadius:"15px",backgroundColor:"#f8f9fa",cursor:"pointer",transition:"all 0.3s ease"},E={textAlign:"center",marginTop:"2rem",fontSize:"1.2rem",color:"#666"},H={fontSize:"1.5rem",fontWeight:"bold",color:"#4CAF50"},Y={display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},N={background:"linear-gradient(to right, #FF5F6D, #FFC371)",color:"white",padding:"1rem 2.5rem",fontSize:"1.5rem",fontWeight:"bold",border:"none",borderRadius:"50px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease, box-shadow 0.2s ease",width:"100%",maxWidth:"350px"},K={background:"linear-gradient(to right, #2193b0, #6dd5ed)",color:"white",padding:"1rem 2.5rem",fontSize:"1.5rem",fontWeight:"bold",border:"none",borderRadius:"50px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease, box-shadow 0.2s ease",width:"100%",maxWidth:"350px"};return e.jsxs("div",{style:W,children:[e.jsx(X,{active:B}),e.jsxs("div",{style:P,children:[e.jsx("h1",{style:R,children:"Game Matematika"}),e.jsx("p",{style:$,children:"Perkalian & Pembagian Sampai 1.000"}),!c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:I,children:e.jsx("p",{style:H,children:`Soal ${o+1} dari ${x.length}`})}),e.jsx("div",{style:_,children:e.jsx("p",{style:D,children:i.q})}),e.jsx("div",{style:G,children:A.map(t=>{const d=m===t&&t===i.a,b=m===t&&t!==i.a,J={...O,backgroundColor:d?"#d4edda":b?"#f8d7da":"#f8f9fa",color:d?"#155724":b?"#721c24":"#333",transform:d?"scale(1.05)":"scale(1)",borderColor:d?"#c3e6cb":b?"#f5c6cb":"#ddd"};return e.jsx("button",{style:J,onClick:()=>z(t),disabled:S,children:t},t)})}),e.jsx("div",{style:{textAlign:"center",minHeight:"50px",opacity:v?1:0,transition:"opacity 0.3s ease"},children:e.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:g.startsWith("Benar")?"#155724":"#721c24"},children:g})})]}),c&&e.jsxs("div",{style:{textAlign:"center",padding:"2rem 0"},children:[e.jsx("h2",{style:{fontSize:"2.2rem",fontWeight:"bold",marginBottom:"1rem"},children:"Permainan Selesai!"}),e.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"2rem",borderRadius:"15px",marginBottom:"2rem"},children:[e.jsxs("p",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#F06292",marginBottom:"1rem"},children:["Skor Anda: ",r," dari 100"]}),e.jsx("p",{style:{fontSize:"1.8rem",color:"#4CAF50"},children:F()})]}),e.jsxs("div",{style:Y,children:[e.jsx("button",{onClick:T,style:N,onMouseOver:t=>{t.currentTarget.style.transform="translateY(-3px)",t.currentTarget.style.boxShadow="0 8px 15px rgba(0, 0, 0, 0.15)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)"},children:"Mulai Ulang Permainan"}),e.jsx("button",{onClick:q,style:K,onMouseOver:t=>{t.currentTarget.style.transform="translateY(-3px)",t.currentTarget.style.boxShadow="0 8px 15px rgba(0, 0, 0, 0.15)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)"},children:"Kembali ke Kategori"})]})]}),e.jsx("footer",{style:E,children:"Selamat belajar! 🎓"})]})]})}export{oe as default};

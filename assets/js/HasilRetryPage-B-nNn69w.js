import{u as y,b as x,r as i,j as e,m as s}from"./vendor-BjgPdEnQ.js";/* empty css             */import"./game-DMqPqpoE.js";function v(){const{score:l}=y(),o=x(),[n,m]=i.useState({babIndex:0,levelIndex:0,levelKey:""}),[g,d]=i.useState(0);i.useEffect(()=>{const a=localStorage.getItem("currentLevelKey")||"",c=JSON.parse(localStorage.getItem("wrongAnswers"))||[];if(d(c.length),a){const r=a.match(/bab(\d+)/),t=a.match(/level(\d+)/);r&&t&&m({babIndex:parseInt(r[1]),levelIndex:parseInt(t[1]),levelKey:a})}},[]);const p=()=>{const a=parseInt(l),r=(parseInt(localStorage.getItem("totalSoal"))||5)*20,t=a/r*100;return t<=75?"Jangan Menyerah, Coba Lagi Ya!":t>75&&t<=85?"Wah Hebat, Sedikit Lagi Kamu Mencapai Skor Sempurna!":"Wah Hebatt, Pertahankan Ya!"},h=()=>{localStorage.setItem("retryMode","true"),o(`/game/${n.babIndex}/${n.levelIndex}`)},u=()=>{localStorage.removeItem("retryMode"),localStorage.removeItem("wrongAnswers"),localStorage.removeItem("soalStatus"),o(`/hasil/${l}`)};return e.jsxs(s.div,{className:"hasil-page retry-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx(s.h1,{initial:{scale:.5},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:"Ayo Coba Lagi! ‚úèÔ∏è"}),e.jsxs("p",{children:["Bab ",n.babIndex+1,", Level ",n.levelIndex+1]}),e.jsxs(s.div,{className:"score-display",initial:{scale:.8,rotate:-5},animate:{scale:1,rotate:0},transition:{delay:.3,type:"spring"},children:[e.jsx("p",{className:"score-number",children:l}),e.jsx("p",{className:"score-label",children:"Skor Saat Ini"})]}),e.jsx("p",{className:"score-message",children:p()}),e.jsxs("div",{className:"retry-info",children:[e.jsxs(s.div,{className:"wrong-answers-count",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5,type:"spring"},children:[e.jsx("p",{className:"wrong-count",children:g}),e.jsx("p",{children:"Soal yang perlu diperbaiki"})]}),e.jsx(s.p,{className:"retry-message",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},children:"Beberapa jawaban masih kurang tepat. Mau mencoba lagi soal yang salah saja?"})]}),e.jsxs(s.div,{className:"helper-frame retry-character",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,type:"spring",stiffness:100},style:{alignItems:"flex-end",alignSelf:"flex-end",marginRight:"30px"},children:[e.jsx("div",{className:"speech-bubble",style:{alignSelf:"flex-end"},children:e.jsx("p",{children:"Jangan menyerah! Yuk perbaiki jawabanmu! üò∫"})}),e.jsx("img",{src:"/src/assets/kucing.png",alt:"Karakter Kucing",className:"helper-character-img",style:{alignSelf:"flex-end"}})]}),e.jsxs("div",{className:"hasil-buttons",children:[e.jsx("button",{onClick:h,className:"retry-button",children:"Perbaiki Jawaban"}),e.jsx("button",{onClick:u,className:"skip-button",children:"Lanjutkan Saja"})]})]})}export{v as default};

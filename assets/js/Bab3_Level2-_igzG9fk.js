import{r as i,b as E,j as e}from"./vendor-BjgPdEnQ.js";import{m as J}from"./guru-D7H-5Pkh.js";import"./game-DMqPqpoE.js";const r=[{type:"ganjil",question:"Lanjutkan pola bilangan ganjil berikut: 1, 3, 5, 7, ...",example:"Contoh: 1, 3, 5 adalah 3 bilangan ganjil pertama",answer:[9,11],options:[4,8,9,10,11,12]},{type:"genap",question:"Lanjutkan pola bilangan genap berikut: 2, 4, 6, 8, ...",example:"Contoh: 2, 4, 6 adalah 3 bilangan genap pertama",answer:[10,12],options:[5,7,9,10,11,12]},{type:"segitiga",question:"Lanjutkan pola bilangan segitiga berikut: 1, 3, 6, 10, ...",example:"Contoh: Angka 3 adalah bilangan segitiga ke-2 (1+2)",answer:[15,21],options:[12,14,15,16,20,21]},{type:"fibonacci",question:"Lanjutkan pola Fibonacci berikut: 1, 1, 2, 3, ...",example:"Contoh: 1, 1, 2 adalah 3 bilangan Fibonacci pertama",answer:[5,8],options:[4,5,6,7,8,9]},{type:"ganjil",question:"Tentukan 2 bilangan ganjil berikutnya: 13, 15, 17, ...",example:"Contoh: 11, 13 adalah dua bilangan ganjil berurutan",answer:[19,21],options:[18,19,20,21,22,23]},{type:"genap",question:"Tentukan 2 bilangan genap berikutnya: 10, 12, 14, ...",example:"Contoh: 6, 8 adalah dua bilangan genap berurutan",answer:[16,18],options:[15,16,17,18,19,20]},{type:"segitiga",question:"Lanjutkan pola bilangan segitiga: 10, 15, 21, 28, ...",example:"Contoh: 6 adalah bilangan segitiga ke-3 (1+2+3)",answer:[36,45],options:[30,35,36,40,45,50]},{type:"fibonacci",question:"Lanjutkan pola Fibonacci: 5, 8, 13, 21, ...",example:"Contoh: 3, 5, 8 adalah tiga bilangan Fibonacci berurutan",answer:[34,55],options:[25,30,34,42,55,60]},{type:"segitiga",question:"Tentukan bilangan segitiga ke-6 dan ke-7 (setelah 1, 3, 6, 10, 15)",example:"Contoh: 10 adalah bilangan segitiga ke-4",answer:[21,28],options:[18,20,21,25,28,30]},{type:"fibonacci",question:"Tentukan 2 bilangan Fibonacci setelah 34 dan 55",example:"Contoh: 13 dan 21 adalah dua bilangan Fibonacci berurutan",answer:[89,144],options:[60,75,89,100,120,144]}];function M(){const[l,u]=i.useState("start"),[o,m]=i.useState(0),[c,b]=i.useState(0),[d,h]=i.useState([]),[p,j]=i.useState([]),[v,k]=i.useState({message:"",type:""}),[N,S]=i.useState(!1),[x,f]=i.useState(!1),[C,y]=i.useState(0),P=E();i.useEffect(()=>{l==="playing"&&(h(new Array(r[o].answer.length).fill(null)),j([]),k({message:"",type:""}),S(!1))},[o,l]);const q=async()=>{const n={kelas:4,bab:3,level:2,jenis_permainan:"Pecahan Level 2",skor:c,skor_maksimal:100,status_selesai:x,detail_jawaban:{jawaban:[{total_benar:C,total_soal:r.length}]}};await J(n)};i.useEffect(()=>{(c>0||x)&&q()},[c,x]);const A=()=>{u("playing"),m(0),b(0),f(!1),y(0)},F=()=>{u("playing"),m(0),b(0),f(!1),y(0)},T=()=>{P("/category4_bab3")},G=(n,t)=>{const s=d.findIndex(a=>a===null);if(s!==-1){const a=[...d];a[s]=n,h(a),j([...p,t]),a.includes(null)||setTimeout(()=>_(a),300)}},L=n=>{if(d[n]!==null){const t=d[n],s=r[o].options;let a=p.find(w=>s[w]===t);const g=[...d];g[n]=null,h(g),j(p.filter(w=>w!==a))}},_=n=>{const t=r[o].answer;let s=!0;for(let a=0;a<t.length;a++)if(n[a]!==t[a]){s=!1;break}s?(b(a=>a+10),y(a=>a+1),k({message:"Jawabanmu benar! +10 poin",type:"correct"})):k({message:`Jawabanmu belum tepat. Jawaban yang benar adalah: ${t.join(", ")}`,type:"incorrect"}),S(!0),setTimeout(()=>{o<r.length-1?m(a=>a+1):(u("end"),f(!0))},2e3)},B=()=>{if(l!=="playing")return null;const n=r[o].options;return Array.from({length:n.length},(s,a)=>a).map(s=>{const a=n[s],g=p.includes(s);return e.jsx("button",{className:`number-piece ${g?"invisible":""}`,onClick:()=>G(a,s),disabled:g,children:a},s)})},O=()=>l!=="playing"?null:d.map((n,t)=>e.jsx("div",{className:`answer-slot ${n!==null?"filled-slot":""}`,onClick:()=>L(t),children:n!==null&&n},t)),$=()=>{const n=l==="end"?100:o/r.length*100;return e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress",style:{width:`${n}%`}})})};return e.jsxs("div",{className:"polaBilangan-container",children:[e.jsx("h1",{children:"Puzzle Pola Bilangan"}),e.jsx("p",{className:"subtitle",children:"Tebak pola bilangan dan dapatkan nilai tertinggi!"}),l!=="start"&&$(),l!=="start"&&e.jsxs("p",{style:{fontSize:"1.2em",margin:"0 0 20px 0"},children:["Skor: ",e.jsx("span",{children:c})," / 100"]}),l==="start"&&e.jsxs("div",{id:"start-screen",children:[e.jsx("p",{children:"Game ini akan menguji pemahamanmu tentang berbagai pola bilangan. Ada 10 soal dengan nilai 10 poin setiap soal."}),e.jsx("p",{children:"Jenis pola bilangan yang akan kamu temui:"}),e.jsxs("div",{className:"pattern-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Pola Bilangan Ganjil:"})," 1, 3, 5, 7, 9, ..."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pola Bilangan Genap:"})," 2, 4, 6, 8, 10, ..."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pola Bilangan Segitiga:"})," 1, 3, 6, 10, 15, ..."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pola Fibonacci:"})," 1, 1, 2, 3, 5, 8, ..."]})]}),e.jsx("button",{onClick:A,children:"Mulai Game"})]}),l==="playing"&&e.jsx("div",{className:"game-area",children:e.jsxs("div",{className:"question-card",children:[e.jsx("div",{className:"question",children:r[o].question}),e.jsx("div",{className:"example",children:r[o].example}),e.jsx("div",{className:"answer-area",children:O()}),e.jsx("div",{className:"answer-options",children:B()}),N&&e.jsx("div",{className:`feedback ${v.type}`,children:v.message})]})}),l==="end"&&e.jsxs("div",{className:"end-screen",children:[e.jsxs("div",{className:"game-over",children:[e.jsx("p",{children:"Permainan Selesai!"}),e.jsxs("p",{children:["Skor akhir kamu: ",e.jsx("span",{children:c})," / 100"]}),c>=80&&e.jsx("div",{className:"celebration",children:"ðŸŽ‰"})]}),e.jsx("button",{onClick:F,children:"Main Lagi"}),e.jsx("button",{onClick:T,className:"back-to-category",children:"Kembali ke kategori"})]})]})}export{M as default};
